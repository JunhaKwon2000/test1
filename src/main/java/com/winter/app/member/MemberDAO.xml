<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <!-- namespace의 이름은 사용하려는 DAO의 풀패키지명과 동일하게 작성 -->
  <mapper namespace="com.winter.app.member.MemberDAO">
  	<resultMap type="MemberVO" id="loginResult">
  		<id column="ID" property="id"/>
  		<result column="PW" property="pw"/>
  		<result column="NAME" property="name"/>
  		<result column="EMAIL" property="email"/>
  		<result column="PHONE" property="phone"/>
  		<result column="BIRTH" property="birth"/>
  		<result column="STATUS" property="status"/>
  	</resultMap>
  	
  	<insert id="join" parameterType="MemberVO">
  	INSERT INTO MEMBER
  	VALUES(#{id}, #{pw}, #{name}, #{email}, #{phone}, #{birth},1)
  	</insert>
  	
  	<select id="login" parameterType="memberVO" resultMap="loginResult">
  	SELECT *
  		FROM Member
  		WHERE ID=#{id}
  	
  	</select>
  	
  	<select id="getPassword" parameterType="memberVO" resultType="string">
  		SELECT pw
  		 FROM member 
  		 WHERE id = #{id}
  	</select>
  	
  	<update id="updatePassword" parameterType="memberVO">
  		UPDATE member
  		SET pw = #{pw}
  		WHERE id = #{id}
  	</update>
  	
  	<update id="memberChange" parameterType="memberVO">
  		UPDATE member
  		SET name = #{name},
  			email = #{email},
  			phone = #{phone}
  		WHERE id = #{id}
  	</update>
  	
  	</mapper>